<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <title>Upgrading Your Package | Pulsar</title><meta name="description" content="Next generation hackable editor for the future">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.e2254398.css">
    <link rel="modulepreload" href="/assets/app.066b0f7d.js"><link rel="modulepreload" href="/assets/upgrading-your-package.html.84efffa4.js"><link rel="modulepreload" href="/assets/dep-cop.73ea47db.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/upgrading-your-package.html.b9c1aa0d.js"><link rel="prefetch" href="/assets/about.html.7e8e4eef.js"><link rel="prefetch" href="/assets/index.html.77f1ef81.js"><link rel="prefetch" href="/assets/index.html.19002ca6.js"><link rel="prefetch" href="/assets/index.html.15391fcb.js"><link rel="prefetch" href="/assets/index.html.1b5026cc.js"><link rel="prefetch" href="/assets/index.html.dc177e8e.js"><link rel="prefetch" href="/assets/index.html.7bf61c0b.js"><link rel="prefetch" href="/assets/index.html.5010e080.js"><link rel="prefetch" href="/assets/index.html.c90ea8cf.js"><link rel="prefetch" href="/assets/index.html.276fa81d.js"><link rel="prefetch" href="/assets/index.html.d1b7af7a.js"><link rel="prefetch" href="/assets/index.html.543c939d.js"><link rel="prefetch" href="/assets/index.html.177b5181.js"><link rel="prefetch" href="/assets/index.html.bf8f69af.js"><link rel="prefetch" href="/assets/index.html.b160ed26.js"><link rel="prefetch" href="/assets/index.html.2d5ad1f9.js"><link rel="prefetch" href="/assets/index.html.03c0cc80.js"><link rel="prefetch" href="/assets/index.html.8c8fda81.js"><link rel="prefetch" href="/assets/index.html.8df0015c.js"><link rel="prefetch" href="/assets/index.html.f12f2576.js"><link rel="prefetch" href="/assets/index.html.3337d7bf.js"><link rel="prefetch" href="/assets/atom-package-server-api.html.5de509d6.js"><link rel="prefetch" href="/assets/atom-update-server-api.html.b61f5310.js"><link rel="prefetch" href="/assets/configuration-api.html.98eeeadf.js"><link rel="prefetch" href="/assets/developing-node-modules.html.11bf929b.js"><link rel="prefetch" href="/assets/how-atom-uses-chromium-snapshots.html.8af989a3.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.b96aca3f.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.2d1324ac.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.76bdbe47.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.588b7c3e.js"><link rel="prefetch" href="/assets/serialization-in-atom.html.d454f36d.js"><link rel="prefetch" href="/assets/summary.html.a29a4b73.js"><link rel="prefetch" href="/assets/atom-in-the-cloud.html.c6c7cc1d.js"><link rel="prefetch" href="/assets/how-can-i-contribute-to-atom.html.dc321cea.js"><link rel="prefetch" href="/assets/how-can-i-tell-if-subpixel-antialiasing-is-working.html.56612bd8.js"><link rel="prefetch" href="/assets/how-do-i-accept-input-from-my-program-or-script-when-using-the-script-package.html.5ff342c5.js"><link rel="prefetch" href="/assets/how-do-i-build-or-execute-code-i-ve-written-in-atom.html.f0fe8f09.js"><link rel="prefetch" href="/assets/how-do-i-make-atom-recognize-a-file-with-extension-x-as-language-y.html.fcd897de.js"><link rel="prefetch" href="/assets/how-do-i-make-the-welcome-screen-stop-showing-up.html.6d0bdd77.js"><link rel="prefetch" href="/assets/how-do-i-preview-web-page-changes-automatically.html.c3766a66.js"><link rel="prefetch" href="/assets/how-do-i-turn-on-line-wrap.html.489b1a33.js"><link rel="prefetch" href="/assets/how-do-i-uninstall-atom-on-macos.html.608b7606.js"><link rel="prefetch" href="/assets/how-do-i-use-a-newline-in-the-result-of-find-and-replace.html.d30cac36.js"><link rel="prefetch" href="/assets/i-am-unable-to-update-to-the-latest-version-of-atom-on-macos-how-do-i-fix-this.html.ff45392d.js"><link rel="prefetch" href="/assets/i-have-a-question-about-a-specific-atom-community-package-where-is-the-best-place-to-ask-it.html.53f29488.js"><link rel="prefetch" href="/assets/i-m-getting-an-error-about-a-self-signed-certificate-what-do-i-do.html.99aa6b80.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-julia-what-do-i-do.html.899781f6.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-platformio-what-do-i-do.html.b339ee08.js"><link rel="prefetch" href="/assets/i-m-trying-to-change-my-syntax-colors-from-styles-less-but-it-isn-t-working.html.9a72b0f0.js"><link rel="prefetch" href="/assets/i-m-using-an-international-keyboard-and-keys-that-use-altgr-or-ctrl-alt-aren-t-working.html.26cca538.js"><link rel="prefetch" href="/assets/is-atom-open-source.html.c27022ed.js"><link rel="prefetch" href="/assets/macos-mojave-font-rendering-change.html.549d790b.js"><link rel="prefetch" href="/assets/the-menu-bar-disappeared-how-do-i-get-it-back.html.d834b97f.js"><link rel="prefetch" href="/assets/what-does-atom-cost.html.243ff6a4.js"><link rel="prefetch" href="/assets/what-does-safe-mode-do.html.c62eee75.js"><link rel="prefetch" href="/assets/what-is-this-line-on-the-right-in-the-editor-view.html.fcd830a9.js"><link rel="prefetch" href="/assets/what-platforms-does-atom-run-on.html.0cd33abf.js"><link rel="prefetch" href="/assets/what-s-the-difference-between-an-ide-and-an-editor.html.2a95ba29.js"><link rel="prefetch" href="/assets/why-does-atom-collect-usage-data.html.b4bae829.js"><link rel="prefetch" href="/assets/why-does-macos-say-that-atom-wants-to-access-my-calendar-contacts-photos-etc.html.bc916e53.js"><link rel="prefetch" href="/assets/why-is-atom-deleting-trailing-whitespace-why-is-there-a-newline-at-the-end-of-the-file.html.51538283.js"><link rel="prefetch" href="/assets/atom-basics.html.f924aa58.js"><link rel="prefetch" href="/assets/installing-atom.html.ddf5e9f2.js"><link rel="prefetch" href="/assets/summary.html.2ad79e1e.js"><link rel="prefetch" href="/assets/why-atom.html.8c166494.js"><link rel="prefetch" href="/assets/contributing-to-official-atom-packages.html.f12d5bb4.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.fcb6508c.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package-in-atom-atom.html.cb3ea3fe.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.72eaed10.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.7929debd.js"><link rel="prefetch" href="/assets/creating-a-theme.html.423fc180.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.3c9fbcba.js"><link rel="prefetch" href="/assets/debugging.html.c278990f.js"><link rel="prefetch" href="/assets/hacking-on-atom-core.html.80cf6a4c.js"><link rel="prefetch" href="/assets/handling-uris.html.303c6230.js"><link rel="prefetch" href="/assets/iconography.html.61a28abd.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package-in-atom-atom.html.fadd7883.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.c8f63d66.js"><link rel="prefetch" href="/assets/package-modifying-text.html.0ce61593.js"><link rel="prefetch" href="/assets/package-word-count.html.03625fb2.js"><link rel="prefetch" href="/assets/publishing.html.24cdac56.js"><link rel="prefetch" href="/assets/summary.html.5b8203ee.js"><link rel="prefetch" href="/assets/the-init-file.html.e7907605.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.d0b41e48.js"><link rel="prefetch" href="/assets/writing-specs.html.8b3d6977.js"><link rel="prefetch" href="/assets/glossary.html.e9f15f41.js"><link rel="prefetch" href="/assets/removing-shadow-dom-styles.html.6e8dc19e.js"><link rel="prefetch" href="/assets/upgrading-your-syntax-theme.html.e39c483b.js"><link rel="prefetch" href="/assets/upgrading-your-ui-theme-or-package-selectors.html.33a447d5.js"><link rel="prefetch" href="/assets/atom-packages.html.c31b629b.js"><link rel="prefetch" href="/assets/atom-selections.html.fe08345f.js"><link rel="prefetch" href="/assets/autocomplete.html.36701136.js"><link rel="prefetch" href="/assets/basic-customization.html.a609cf57.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.4688f29b.js"><link rel="prefetch" href="/assets/find-and-replace.html.4f44b34d.js"><link rel="prefetch" href="/assets/folding.html.2a0baa17.js"><link rel="prefetch" href="/assets/github-package.html.79d50bd2.js"><link rel="prefetch" href="/assets/grammar.html.3168bbc6.js"><link rel="prefetch" href="/assets/moving-in-atom.html.f5688b80.js"><link rel="prefetch" href="/assets/panes.html.83efbb24.js"><link rel="prefetch" href="/assets/pending-pane-items.html.19a84759.js"><link rel="prefetch" href="/assets/snippets.html.0ac55748.js"><link rel="prefetch" href="/assets/summary.html.d192ee50.js"><link rel="prefetch" href="/assets/version-control-in-atom.html.7b306623.js"><link rel="prefetch" href="/assets/writing-in-atom.html.7b5b367e.js"><link rel="prefetch" href="/assets/index.html.3e04b3e2.js"><link rel="prefetch" href="/assets/index.html.b5194c17.js"><link rel="prefetch" href="/assets/index.html.7d866944.js"><link rel="prefetch" href="/assets/installing-pulsar.html.c95097e2.js"><link rel="prefetch" href="/assets/pulsar-basics.html.b33b3e63.js"><link rel="prefetch" href="/assets/summary.html.e03c543b.js"><link rel="prefetch" href="/assets/why-pulsar.html.c6f8e481.js"><link rel="prefetch" href="/assets/index.html.a0197add.js"><link rel="prefetch" href="/assets/list.html.83c551a1.js"><link rel="prefetch" href="/assets/release-process.html.fee26b2e.js"><link rel="prefetch" href="/assets/autocomplete-providers.html.edd0f547.js"><link rel="prefetch" href="/assets/index.html.44403fa9.js"><link rel="prefetch" href="/assets/provider-api.html.9712005a.js"><link rel="prefetch" href="/assets/symbolprovider-config-api.html.d64302c9.js"><link rel="prefetch" href="/assets/index.html.e9d0948f.js"><link rel="prefetch" href="/assets/june-2017.html.d706dfcb.js"><link rel="prefetch" href="/assets/incomplete-classpath-warning.html.f518fdda.js"><link rel="prefetch" href="/assets/index.html.9ab44a9f.js"><link rel="prefetch" href="/assets/building-pulsar.html.60531735.js"><link rel="prefetch" href="/assets/using-ppm.html.a7d410c7.js"><link rel="prefetch" href="/assets/get-help.html.e3bf6924.js"><link rel="prefetch" href="/assets/404.html.83136f9a.js"><link rel="prefetch" href="/assets/about.html.d4ecfb78.js"><link rel="prefetch" href="/assets/index.html.3cb446d5.js"><link rel="prefetch" href="/assets/index.html.a34bebd3.js"><link rel="prefetch" href="/assets/index.html.a1306ad5.js"><link rel="prefetch" href="/assets/index.html.05fd738b.js"><link rel="prefetch" href="/assets/index.html.b3321f14.js"><link rel="prefetch" href="/assets/index.html.10589123.js"><link rel="prefetch" href="/assets/index.html.66f77343.js"><link rel="prefetch" href="/assets/index.html.d901faf5.js"><link rel="prefetch" href="/assets/index.html.bb07a0b6.js"><link rel="prefetch" href="/assets/index.html.b7f1c884.js"><link rel="prefetch" href="/assets/index.html.5d41f69b.js"><link rel="prefetch" href="/assets/index.html.0c1c6daf.js"><link rel="prefetch" href="/assets/index.html.abba43ec.js"><link rel="prefetch" href="/assets/index.html.8a04e5db.js"><link rel="prefetch" href="/assets/index.html.7ba1f167.js"><link rel="prefetch" href="/assets/index.html.e0975ffb.js"><link rel="prefetch" href="/assets/index.html.6d0034f6.js"><link rel="prefetch" href="/assets/index.html.fdd5104e.js"><link rel="prefetch" href="/assets/index.html.a75f7940.js"><link rel="prefetch" href="/assets/index.html.e935a144.js"><link rel="prefetch" href="/assets/atom-package-server-api.html.f9c9ce02.js"><link rel="prefetch" href="/assets/atom-update-server-api.html.8651b215.js"><link rel="prefetch" href="/assets/configuration-api.html.d18359c1.js"><link rel="prefetch" href="/assets/developing-node-modules.html.a7c75126.js"><link rel="prefetch" href="/assets/how-atom-uses-chromium-snapshots.html.39cc6694.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.857a5305.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.79ebb893.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.281f7ab5.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.77d2d558.js"><link rel="prefetch" href="/assets/serialization-in-atom.html.3c4b25dc.js"><link rel="prefetch" href="/assets/summary.html.6b5809aa.js"><link rel="prefetch" href="/assets/atom-in-the-cloud.html.cce96839.js"><link rel="prefetch" href="/assets/how-can-i-contribute-to-atom.html.4b5d86b9.js"><link rel="prefetch" href="/assets/how-can-i-tell-if-subpixel-antialiasing-is-working.html.220e15b1.js"><link rel="prefetch" href="/assets/how-do-i-accept-input-from-my-program-or-script-when-using-the-script-package.html.873295b8.js"><link rel="prefetch" href="/assets/how-do-i-build-or-execute-code-i-ve-written-in-atom.html.c43a3ffa.js"><link rel="prefetch" href="/assets/how-do-i-make-atom-recognize-a-file-with-extension-x-as-language-y.html.9964a9c6.js"><link rel="prefetch" href="/assets/how-do-i-make-the-welcome-screen-stop-showing-up.html.3e3e8ead.js"><link rel="prefetch" href="/assets/how-do-i-preview-web-page-changes-automatically.html.93f60cbd.js"><link rel="prefetch" href="/assets/how-do-i-turn-on-line-wrap.html.b8893d8e.js"><link rel="prefetch" href="/assets/how-do-i-uninstall-atom-on-macos.html.d75358fd.js"><link rel="prefetch" href="/assets/how-do-i-use-a-newline-in-the-result-of-find-and-replace.html.e53d6385.js"><link rel="prefetch" href="/assets/i-am-unable-to-update-to-the-latest-version-of-atom-on-macos-how-do-i-fix-this.html.9abb6748.js"><link rel="prefetch" href="/assets/i-have-a-question-about-a-specific-atom-community-package-where-is-the-best-place-to-ask-it.html.32059282.js"><link rel="prefetch" href="/assets/i-m-getting-an-error-about-a-self-signed-certificate-what-do-i-do.html.d65d090f.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-julia-what-do-i-do.html.bdd1db54.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-platformio-what-do-i-do.html.902a819e.js"><link rel="prefetch" href="/assets/i-m-trying-to-change-my-syntax-colors-from-styles-less-but-it-isn-t-working.html.e14ec48d.js"><link rel="prefetch" href="/assets/i-m-using-an-international-keyboard-and-keys-that-use-altgr-or-ctrl-alt-aren-t-working.html.4d2368da.js"><link rel="prefetch" href="/assets/is-atom-open-source.html.f0193470.js"><link rel="prefetch" href="/assets/macos-mojave-font-rendering-change.html.c01f2ddd.js"><link rel="prefetch" href="/assets/the-menu-bar-disappeared-how-do-i-get-it-back.html.7d54631a.js"><link rel="prefetch" href="/assets/what-does-atom-cost.html.5a2af66e.js"><link rel="prefetch" href="/assets/what-does-safe-mode-do.html.2cbe46ae.js"><link rel="prefetch" href="/assets/what-is-this-line-on-the-right-in-the-editor-view.html.80b17570.js"><link rel="prefetch" href="/assets/what-platforms-does-atom-run-on.html.6a9c7205.js"><link rel="prefetch" href="/assets/what-s-the-difference-between-an-ide-and-an-editor.html.1bfa5062.js"><link rel="prefetch" href="/assets/why-does-atom-collect-usage-data.html.99856668.js"><link rel="prefetch" href="/assets/why-does-macos-say-that-atom-wants-to-access-my-calendar-contacts-photos-etc.html.8637e57e.js"><link rel="prefetch" href="/assets/why-is-atom-deleting-trailing-whitespace-why-is-there-a-newline-at-the-end-of-the-file.html.6bcbf44d.js"><link rel="prefetch" href="/assets/atom-basics.html.4603597d.js"><link rel="prefetch" href="/assets/installing-atom.html.0f9ebc91.js"><link rel="prefetch" href="/assets/summary.html.83d26572.js"><link rel="prefetch" href="/assets/why-atom.html.f426561f.js"><link rel="prefetch" href="/assets/contributing-to-official-atom-packages.html.f6815f54.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.2970e8ea.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package-in-atom-atom.html.69916bf4.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.6571bb79.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.da34ac2a.js"><link rel="prefetch" href="/assets/creating-a-theme.html.20b2e9b4.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.15b3709d.js"><link rel="prefetch" href="/assets/debugging.html.cf55bfe6.js"><link rel="prefetch" href="/assets/hacking-on-atom-core.html.93c67a72.js"><link rel="prefetch" href="/assets/handling-uris.html.cfdc077e.js"><link rel="prefetch" href="/assets/iconography.html.6a1749f7.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package-in-atom-atom.html.8bb66425.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.5c46ee8e.js"><link rel="prefetch" href="/assets/package-modifying-text.html.affbc3ac.js"><link rel="prefetch" href="/assets/package-word-count.html.bfbea944.js"><link rel="prefetch" href="/assets/publishing.html.c561879f.js"><link rel="prefetch" href="/assets/summary.html.7043aead.js"><link rel="prefetch" href="/assets/the-init-file.html.37fc5173.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.df3bad96.js"><link rel="prefetch" href="/assets/writing-specs.html.11f34724.js"><link rel="prefetch" href="/assets/glossary.html.c1535354.js"><link rel="prefetch" href="/assets/removing-shadow-dom-styles.html.23a9bcec.js"><link rel="prefetch" href="/assets/upgrading-your-syntax-theme.html.6ff066f0.js"><link rel="prefetch" href="/assets/upgrading-your-ui-theme-or-package-selectors.html.a13803e2.js"><link rel="prefetch" href="/assets/atom-packages.html.72dec628.js"><link rel="prefetch" href="/assets/atom-selections.html.b3bcce8d.js"><link rel="prefetch" href="/assets/autocomplete.html.65d63b1e.js"><link rel="prefetch" href="/assets/basic-customization.html.49c99039.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.b4a53cdb.js"><link rel="prefetch" href="/assets/find-and-replace.html.5e51e15a.js"><link rel="prefetch" href="/assets/folding.html.036ce953.js"><link rel="prefetch" href="/assets/github-package.html.65660c59.js"><link rel="prefetch" href="/assets/grammar.html.ce37a65e.js"><link rel="prefetch" href="/assets/moving-in-atom.html.51595033.js"><link rel="prefetch" href="/assets/panes.html.a803592c.js"><link rel="prefetch" href="/assets/pending-pane-items.html.b6bde646.js"><link rel="prefetch" href="/assets/snippets.html.6870a3a3.js"><link rel="prefetch" href="/assets/summary.html.cdb68ac2.js"><link rel="prefetch" href="/assets/version-control-in-atom.html.dffa941a.js"><link rel="prefetch" href="/assets/writing-in-atom.html.3a0e8a33.js"><link rel="prefetch" href="/assets/index.html.db35c5c6.js"><link rel="prefetch" href="/assets/index.html.1cd076ca.js"><link rel="prefetch" href="/assets/index.html.ab3785e1.js"><link rel="prefetch" href="/assets/installing-pulsar.html.dac8a4be.js"><link rel="prefetch" href="/assets/pulsar-basics.html.06240e26.js"><link rel="prefetch" href="/assets/summary.html.0a67d8a0.js"><link rel="prefetch" href="/assets/why-pulsar.html.ffd5ff73.js"><link rel="prefetch" href="/assets/index.html.2b57886f.js"><link rel="prefetch" href="/assets/list.html.8094fbce.js"><link rel="prefetch" href="/assets/release-process.html.39d73a75.js"><link rel="prefetch" href="/assets/autocomplete-providers.html.fa682be3.js"><link rel="prefetch" href="/assets/index.html.5da80734.js"><link rel="prefetch" href="/assets/provider-api.html.97057a1e.js"><link rel="prefetch" href="/assets/symbolprovider-config-api.html.509664c2.js"><link rel="prefetch" href="/assets/index.html.48c00135.js"><link rel="prefetch" href="/assets/june-2017.html.bcb6197c.js"><link rel="prefetch" href="/assets/incomplete-classpath-warning.html.dc3471fe.js"><link rel="prefetch" href="/assets/index.html.8d04db80.js"><link rel="prefetch" href="/assets/building-pulsar.html.dccfaf78.js"><link rel="prefetch" href="/assets/using-ppm.html.51d47ae4.js"><link rel="prefetch" href="/assets/get-help.html.ae9a5d27.js"><link rel="prefetch" href="/assets/404.html.d482950f.js"><link rel="prefetch" href="/assets/photoswipe.esm.f594e77b.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><!----><!----><span class="site-name">Pulsar</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Start Here"><span class="title"><!---->Start Here</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/docs/launch-manual" class="nav-link" aria-label="Launch Manual"><!---->Launch Manual<!----></a></li><li class="dropdown-item"><a href="/docs/packages/core" class="nav-link" aria-label="Core Packages Documentation"><!---->Core Packages Documentation<!----></a></li><li class="dropdown-item"><a href="/docs/packages/community" class="nav-link" aria-label="Community Packages"><!---->Community Packages<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/docs/" class="nav-link active" aria-label="Docs"><!---->Docs<!----></a></div><div class="nav-item hide-in-mobile"><a href="/about/index.md" class="nav-link" aria-label="About Us"><!---->About Us<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://discord.gg/7aEbB9dGRT" rel="noopener noreferrer" target="_blank" aria-label="Discord" class="nav-link"><!---->Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/" class="title">Documentation Home</a><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/launch-manual/" class="title">Launch Manual</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/launch-manual/sections/getting-started/" class="nav-link sidebar-link sidebar-page" aria-label="Getting Started"><!---->Getting Started<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/launch-manual/sections/core-hacking/" class="nav-link sidebar-link sidebar-page" aria-label="Hacking the Core"><!---->Hacking the Core<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/launch-manual/sections/faq/" class="nav-link sidebar-link sidebar-page" aria-label="FAQ"><!---->FAQ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><a href="/docs/packages/" class="nav-link sidebar-link sidebar-page" aria-label="Packages"><!---->Packages<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/resources/" class="title">Resources</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/resources/glossary/" class="nav-link sidebar-link sidebar-page" aria-label="Glossary"><!---->Glossary<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/resources/pulsar-api/" class="nav-link sidebar-link sidebar-page" aria-label="Pulsar API"><!---->Pulsar API<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable"><!----><a href="/docs/atom-archive/" class="title">Atom Archive</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/docs/atom-archive/getting-started/" class="nav-link sidebar-link sidebar-page" aria-label="Chapter 1 : Getting started"><!---->Chapter 1 : Getting started<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/using-atom/" class="nav-link sidebar-link sidebar-page" aria-label="Chapter 2 : Using Atom"><!---->Chapter 2 : Using Atom<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/hacking-atom/" class="nav-link sidebar-link sidebar-page" aria-label="Chapter 3 : Hacking Atom"><!---->Chapter 3 : Hacking Atom<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/behind-atom/" class="nav-link sidebar-link sidebar-page" aria-label="Chapter 4 : Behind Atom"><!---->Chapter 4 : Behind Atom<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/api/" class="nav-link sidebar-link sidebar-page" aria-label="Reference : API"><!---->Reference : API<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/resources/" class="nav-link sidebar-link sidebar-page" aria-label="Appendix A : Resources"><!---->Appendix A : Resources<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/faq/" class="nav-link sidebar-link sidebar-page" aria-label="Appendix B : FAQ"><!---->Appendix B : FAQ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/shadow-dom/" class="nav-link sidebar-link sidebar-page" aria-label="Appendix C : Shadow DOM"><!---->Appendix C : Shadow DOM<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/upgrading-to-1-0-apis/" class="nav-link sidebar-link sidebar-page" aria-label="Appendix D : Upgrading to 1.0 APIs"><!---->Appendix D : Upgrading to 1.0 APIs<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/atom-archive/atom-server-side-apis/" class="nav-link sidebar-link sidebar-page" aria-label="Appendix E : Atom server-side APIs"><!---->Appendix E : Atom server-side APIs<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Upgrading Your Package</h1><div class="page-info"><!----><!----><span class="date-info" aria-label="Writing DateðŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>October 1, 2022</span><meta property="datePublished" content="2022-10-01T18:17:13.000Z"></span><!----><!----><span class="reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 9 min</span><meta property="timeRequired" content="PT9M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/atom-archive/upgrading-to-1-0-apis/sections/upgrading-your-package.html#upgrading-your-package" class="router-link-active router-link-exact-active toc-link level3">Upgrading Your Package</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h3 id="upgrading-your-package" tabindex="-1"><a class="header-anchor" href="#upgrading-your-package" aria-hidden="true">#</a> Upgrading Your Package</h3><p>This document will guide you through the large bits of upgrading your package to work with 1.0 APIs.</p><h4 id="tl-dr" tabindex="-1"><a class="header-anchor" href="#tl-dr" aria-hidden="true">#</a> TL;DR</h4><p>We&#39;ve set deprecation messages and errors in strategic places to help make sure you don&#39;t miss anything. You should be able to get 95% of the way to an updated package just by fixing errors and deprecations. There are a couple of things you can do to get the full effect of all the errors and deprecations.</p><h5 id="use-atom-space-pen-views" tabindex="-1"><a class="header-anchor" href="#use-atom-space-pen-views" aria-hidden="true">#</a> Use atom-space-pen-views</h5><p>If you use any class from <code>require &#39;atom&#39;</code> with a <code>$</code> or <code>View</code> in the name, add the <code>atom-space-pen-views</code> module to your package&#39;s <code>package.json</code> file&#39;s dependencies:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;atom-space-pen-views&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.3&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then run <code>apm install</code> in your package directory.</p><h5 id="require-views-from-atom-space-pen-views" tabindex="-1"><a class="header-anchor" href="#require-views-from-atom-space-pen-views" aria-hidden="true">#</a> Require views from atom-space-pen-views</h5><p>Anywhere you are requiring one of the following from <code>atom</code> you need to require them from <code>atom-space-pen-views</code> instead.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># require these from &#39;atom-space-pen-views&#39; rather than &#39;atom&#39;</span>
$
$$
$$$
View
TextEditorView
ScrollView
SelectListView
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>So this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old way</span>
<span class="token punctuation">{</span>$<span class="token punctuation">,</span> TextEditorView<span class="token punctuation">,</span> View<span class="token punctuation">,</span> GitRepository<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Would be replaced by this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New way</span>
<span class="token punctuation">{</span>GitRepository<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom&#39;</span>
<span class="token punctuation">{</span>$<span class="token punctuation">,</span> TextEditorView<span class="token punctuation">,</span> View<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom-space-pen-views&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="run-specs-and-test-your-package" tabindex="-1"><a class="header-anchor" href="#run-specs-and-test-your-package" aria-hidden="true">#</a> Run specs and test your package</h5><p>You wrote specs, right!? Here&#39;s where they shine. Run them with <code>cmd-shift-P</code>, and search for <code>run package specs</code>. It will show all the deprecation messages and errors.</p><h5 id="update-the-engines-field" tabindex="-1"><a class="header-anchor" href="#update-the-engines-field" aria-hidden="true">#</a> Update the engines field</h5><p>When you are deprecation free and all done converting, upgrade the <code>engines</code> field in your package.json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;atom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=0.174.0 &lt;2.0.0&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="examples" tabindex="-1"><a class="header-anchor" href="#examples" aria-hidden="true">#</a> Examples</h5><p>We have upgraded all the core packages. Please see <a href="https://github.com/atom/atom/issues/4011" target="_blank" rel="noopener noreferrer">this issue<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for a link to all the upgrade PRs.</p><h4 id="deprecations" tabindex="-1"><a class="header-anchor" href="#deprecations" aria-hidden="true">#</a> Deprecations</h4><p>All of the methods in Atom core that have changes will emit deprecation messages when called. These messages are shown in two places: your <strong>package specs</strong>, and in Deprecation Cop.</p><h5 id="specs" tabindex="-1"><a class="header-anchor" href="#specs" aria-hidden="true">#</a> Specs</h5><p>Just run your specs, and all the deprecations will be displayed in yellow.</p><p><img src="/assets/spec-deps.9e42d44f.png" alt="Deprecations in Specs"></p><div class="custom-container note"><p class="custom-container-title">Note</p><p><strong>Note:</strong> Deprecations are only displayed when executing specs through the &quot;Window: Run Package Specs&quot; command in the Atom UI. Deprecations are not displayed when running specs at the terminal.</p></div><h5 id="deprecation-cop" tabindex="-1"><a class="header-anchor" href="#deprecation-cop" aria-hidden="true">#</a> Deprecation Cop</h5><p>Run Atom in Dev Mode, <code>atom --dev</code>, with your package loaded, and open Deprecation Cop (search for &quot;deprecation&quot; in the command palette). Deprecated methods will appear in Deprecation Cop only after they have been called.</p><p><img src="/assets/dep-cop.d194dc31.png" alt="Deprecation Cop"></p><p>When Deprecation Cop is open, and deprecated methods are called, a <code>Refresh</code> button will appear in the top right of the Deprecation Cop interface. So exercise your package, then come back to Deprecation Cop and click the <code>Refresh</code> button.</p><h4 id="upgrading-your-views" tabindex="-1"><a class="header-anchor" href="#upgrading-your-views" aria-hidden="true">#</a> Upgrading your Views</h4><p>Previous to 1.0, views were baked into Atom core. These views were based on jQuery and <code>space-pen</code>. They looked something like this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># The old way: getting views from atom</span>
<span class="token punctuation">{</span>$<span class="token punctuation">,</span> TextEditorView<span class="token punctuation">,</span> View<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom&#39;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span>
<span class="token keyword">class</span> <span class="token class-name">SomeView</span> <span class="token keyword">extends</span> <span class="token class-name">View</span>
  @<span class="token property">content</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token class-member variable">@div</span> <span class="token property">class</span><span class="token operator">:</span> <span class="token string">&#39;find-and-replace&#39;</span><span class="token punctuation">,</span> <span class="token operator">=&gt;</span>
      <span class="token class-member variable">@div</span> <span class="token property">class</span><span class="token operator">:</span> <span class="token string">&#39;block&#39;</span><span class="token punctuation">,</span> <span class="token operator">=&gt;</span>
        <span class="token class-member variable">@subview</span> <span class="token string">&#39;myEditor&#39;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TextEditorView</span><span class="token punctuation">(</span><span class="token property">mini</span><span class="token operator">:</span> <span class="token keyword">true</span><span class="token punctuation">)</span>
  <span class="token comment">#...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="the-new" tabindex="-1"><a class="header-anchor" href="#the-new" aria-hidden="true">#</a> The New</h5><p><code>require &#39;atom&#39;</code> no longer provides view helpers or jQuery. Atom Core is now &#39;view agnostic&#39;. The preexisting view system is available from a new Node module: atom-space-pen-views.</p><p>atom-space-pen-views now provides jQuery, space-pen views, and Atom specific views:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># These are now provided by atom-space-pen-views</span>
$
$$
$$$
View
TextEditorView
ScrollView
SelectListView
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="adding-the-module-dependencies" tabindex="-1"><a class="header-anchor" href="#adding-the-module-dependencies" aria-hidden="true">#</a> Adding the module dependencies</h5><p>To use the new views, you need to specify the atom-space-pen-views module in your package&#39;s <code>package.json</code> file&#39;s dependencies:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;atom-space-pen-views&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.3&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>space-pen bundles jQuery. If you do not need space-pen or any of the views, you can require jQuery directly.</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="converting-your-views" tabindex="-1"><a class="header-anchor" href="#converting-your-views" aria-hidden="true">#</a> Converting your views</h5><p>Sometimes it is as simple as converting the requires at the top of each view page. I assume you read the &#39;TL;DR&#39; section and have updated all of your requires.</p><h5 id="upgrading-classes-extending-any-space-pen-view" tabindex="-1"><a class="header-anchor" href="#upgrading-classes-extending-any-space-pen-view" aria-hidden="true">#</a> Upgrading classes extending any space-pen View</h5><h6 id="afterattach-and-beforeremove-updated" tabindex="-1"><a class="header-anchor" href="#afterattach-and-beforeremove-updated" aria-hidden="true">#</a> <code>afterAttach</code> and <code>beforeRemove</code> updated</h6><p>The <code>afterAttach</code> and <code>beforeRemove</code> hooks have been replaced with <code>attached</code> and <code>detached</code> and the semantics have changed.</p><p><code>afterAttach</code> was called whenever the node was attached to another DOM node, even if that parent node wasn&#39;t present in the DOM. <code>afterAttach</code> also was called with a boolean indicating whether or not the element and its parents were on the DOM. Now the <code>attached</code> hook is <em>only</em> called when the node and all of its parents are actually on the DOM, and is not called with a boolean.</p><p><code>beforeRemove</code> was only called when <code>$.fn.remove</code> was called, which was typically used when the node was completely removed from the DOM. The new <code>detached</code> hook is called whenever the DOM node is <em>detached</em>, which could happen if the node is being detached for reattachment later. In short, if <code>beforeRemove</code> is called the node is never coming back. With <code>detached</code> it might be attached again later.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old way</span>
<span class="token punctuation">{</span>View<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom&#39;</span>
<span class="token keyword">class</span> <span class="token class-name">MyView</span> <span class="token keyword">extends</span> <span class="token class-name">View</span>
  <span class="token property">afterAttach</span><span class="token operator">:</span> <span class="token punctuation">(</span>onDom<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token comment">#...</span>

  <span class="token property">beforeRemove</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token comment">#...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New way</span>
<span class="token punctuation">{</span>View<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom-space-pen-views&#39;</span>
<span class="token keyword">class</span> <span class="token class-name">MyView</span> <span class="token keyword">extends</span> <span class="token class-name">View</span>
  <span class="token property">attached</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token comment"># Always called with the equivalent of @afterAttach(true)!</span>
    <span class="token comment">#...</span>

  <span class="token property">detached</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token comment">#...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="subscribe-and-subscribetocommand-methods-removed" tabindex="-1"><a class="header-anchor" href="#subscribe-and-subscribetocommand-methods-removed" aria-hidden="true">#</a> <code>subscribe</code> and <code>subscribeToCommand</code> methods removed</h6><p>The <code>subscribe</code> and <code>subscribeToCommand</code> methods have been removed. See the Eventing and Disposables section for more info.</p><h5 id="upgrading-to-the-new-texteditorview" tabindex="-1"><a class="header-anchor" href="#upgrading-to-the-new-texteditorview" aria-hidden="true">#</a> Upgrading to the new TextEditorView</h5><p>All of the atom-specific methods available on the <code>TextEditorView</code> have been moved to the <code>TextEditor</code>, available via <code>TextEditorView::getModel</code>. See the <a href="https://github.com/atom/atom-space-pen-views#texteditorview" target="_blank" rel="noopener noreferrer"><code>TextEditorView</code> docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="https://atom.io/docs/api/latest/TextEditor" target="_blank" rel="noopener noreferrer"><code>TextEditor</code> docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more info.</p><h5 id="upgrading-classes-extending-scrollview" tabindex="-1"><a class="header-anchor" href="#upgrading-classes-extending-scrollview" aria-hidden="true">#</a> Upgrading classes extending ScrollView</h5><p>The <code>ScrollView</code> has very minor changes.</p><p>You can no longer use <code>@off</code> to remove default behavior for <code>core:move-up</code>, <code>core:move-down</code>, etc.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old way to turn off default behavior</span>
<span class="token keyword">class</span> <span class="token class-name">ResultsView</span> <span class="token keyword">extends</span> <span class="token class-name">ScrollView</span>
  <span class="token property">initialize</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token class-member variable">@model</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># turn off default scrolling behavior from ScrollView</span>
    @<span class="token keyword">off</span> <span class="token string">&#39;core:move-up&#39;</span>
    @<span class="token keyword">off</span> <span class="token string">&#39;core:move-down&#39;</span>
    @<span class="token keyword">off</span> <span class="token string">&#39;core:move-left&#39;</span>
    @<span class="token keyword">off</span> <span class="token string">&#39;core:move-right&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New way to turn off default behavior</span>
<span class="token keyword">class</span> <span class="token class-name">ResultsView</span> <span class="token keyword">extends</span> <span class="token class-name">ScrollView</span>
  <span class="token property">initialize</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token class-member variable">@model</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    disposable <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># turn off default scrolling behavior from ScrollView</span>
    disposable<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Check out <a href="https://github.com/atom/find-and-replace/pull/311/files#diff-9" target="_blank" rel="noopener noreferrer">an example<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> from find-and-replace.</li><li>See the <a href="https://github.com/atom/atom-space-pen-views#scrollview" target="_blank" rel="noopener noreferrer">docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for all the options.</li></ul><h5 id="upgrading-classes-extending-selectlistview" tabindex="-1"><a class="header-anchor" href="#upgrading-classes-extending-selectlistview" aria-hidden="true">#</a> Upgrading classes extending SelectListView</h5><p>Your <code>SelectListView</code> might look something like this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
<span class="token keyword">class</span> <span class="token class-name">CommandPaletteView</span> <span class="token keyword">extends</span> <span class="token class-name">SelectListView</span>
  <span class="token property">initialize</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    @<span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">&#39;command-palette overlay from-top&#39;</span><span class="token punctuation">)</span>
    atom<span class="token punctuation">.</span>workspaceView<span class="token punctuation">.</span>command <span class="token string">&#39;command-palette:toggle&#39;</span><span class="token punctuation">,</span> <span class="token operator">=&gt;</span> @<span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token property">confirmed</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span> jQuery<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    @<span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># do something with the result</span>

  <span class="token property">toggle</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token keyword">if</span> @<span class="token function">hasParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      @<span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span>
      @<span class="token function">attach</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token property">attach</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    @<span class="token function">storeFocusedElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment"># TODO: build items</span>
    @<span class="token function">setItems</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span>

    atom<span class="token punctuation">.</span>workspaceView<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    @<span class="token function">focusFilterEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token property">confirmed</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span> jQuery<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    @<span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This attaches and detaches itself from the DOM when toggled, canceling magically detaches it from the DOM, and it uses the classes <code>overlay</code> and <code>from-top</code>.</p><p>The new SelectListView no longer automatically detaches itself from the DOM when cancelled. It&#39;s up to you to implement whatever cancel behavior you want. Using the new APIs to mimic the semantics of the old class, it should look like this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
<span class="token keyword">class</span> <span class="token class-name">CommandPaletteView</span> <span class="token keyword">extends</span> <span class="token class-name">SelectListView</span>
  <span class="token property">initialize</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># no more need for the `overlay` and `from-top` classes</span>
    @<span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">&#39;command-palette&#39;</span><span class="token punctuation">)</span>
    atom<span class="token punctuation">.</span>commands<span class="token punctuation">.</span>add <span class="token string">&#39;atom-workspace&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;command-palette:toggle&#39;</span><span class="token punctuation">,</span> <span class="token operator">=&gt;</span> @<span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment"># You need to implement the `cancelled` method and hide.</span>
  <span class="token property">cancelled</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    @<span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token property">confirmed</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span> jQuery<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    @<span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># do something with the result</span>

  <span class="token property">toggle</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token comment"># Toggling now checks panel visibility,</span>
    <span class="token comment"># and hides / shows rather than attaching to / detaching from the DOM.</span>
    <span class="token keyword">if</span> <span class="token class-member variable">@panel</span><span class="token operator">?.</span><span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      @<span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span>
      @<span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token property">show</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token comment"># Now you will add your select list as a modal panel to the workspace</span>
    <span class="token class-member variable">@panel</span> <span class="token operator">?</span><span class="token operator">=</span> atom<span class="token punctuation">.</span>workspace<span class="token punctuation">.</span><span class="token function">addModalPanel</span><span class="token punctuation">(</span><span class="token property">item</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token class-member variable">@panel</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    @<span class="token function">storeFocusedElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment"># TODO: build items</span>
    @<span class="token function">setItems</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span>

    @<span class="token function">focusFilterEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token property">hide</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token class-member variable">@panel</span><span class="token operator">?.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>And check out the <a href="https://github.com/atom/command-palette/pull/19/files" target="_blank" rel="noopener noreferrer">conversion of <code>CommandPaletteView</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> as a real-world example.</li><li>See the <a href="https://github.com/atom/atom-space-pen-views#selectlistview" target="_blank" rel="noopener noreferrer"><code>SelectListView</code> docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for all options.</li></ul><h4 id="using-the-model-layer-rather-than-the-view-layer" tabindex="-1"><a class="header-anchor" href="#using-the-model-layer-rather-than-the-view-layer" aria-hidden="true">#</a> Using the model layer rather than the view layer</h4><p>The API no longer exposes any specialized view objects or view classes. <code>atom.workspaceView</code>, and all the view classes: <code>WorkspaceView</code>, <code>EditorView</code>, <code>PaneView</code>, etc. have been globally deprecated.</p><p>Nearly all of the atom-specific actions performed by the old view objects can now be managed via the model layer. For example, here&#39;s adding a panel to the interface using the <code>atom.workspace</code> model instead of the <code>workspaceView</code>:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
atom<span class="token punctuation">.</span>workspaceView<span class="token punctuation">.</span><span class="token function">appendToTop</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
atom<span class="token punctuation">.</span>workspace<span class="token punctuation">.</span><span class="token function">addTopPanel</span><span class="token punctuation">(</span><span class="token property">item</span><span class="token operator">:</span> div<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For actions that still require the view, such as dispatching commands or munging css classes, you&#39;ll access the view via the <code>atom.views.getView()</code> method. This will return a subclass of <code>HTMLElement</code> rather than a jQuery object or an instance of a deprecated view class (e.g. <code>WorkspaceView</code>).</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
workspaceView <span class="token operator">=</span> atom<span class="token punctuation">.</span>workspaceView
editorView <span class="token operator">=</span> workspaceView<span class="token punctuation">.</span><span class="token function">getActiveEditorView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
paneView <span class="token operator">=</span> editorView<span class="token punctuation">.</span><span class="token function">getPaneView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
<span class="token comment"># Generally, just use the models</span>
workspace <span class="token operator">=</span> atom<span class="token punctuation">.</span>workspace
editor <span class="token operator">=</span> workspace<span class="token punctuation">.</span><span class="token function">getActiveTextEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
pane <span class="token operator">=</span> editor<span class="token punctuation">.</span><span class="token function">getPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># If you need views, get them with `getView`</span>
workspaceElement <span class="token operator">=</span> atom<span class="token punctuation">.</span>views<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span>atom<span class="token punctuation">.</span>workspace<span class="token punctuation">)</span>
editorElement <span class="token operator">=</span> atom<span class="token punctuation">.</span>views<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span>
paneElement <span class="token operator">=</span> atom<span class="token punctuation">.</span>views<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span>pane<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="updating-specs" tabindex="-1"><a class="header-anchor" href="#updating-specs" aria-hidden="true">#</a> Updating Specs</h4><p><code>atom.workspaceView</code>, the <code>WorkspaceView</code> class and the <code>EditorView</code> class have been deprecated. These two objects are used heavily throughout specs, mostly to dispatch events and commands. This section will explain how to remove them while still retaining the ability to dispatch events and commands.</p><h5 id="removing-workspaceview-references" tabindex="-1"><a class="header-anchor" href="#removing-workspaceview-references" aria-hidden="true">#</a> Removing <code>WorkspaceView</code> references</h5><p><code>WorkspaceView</code> has been deprecated. Everything you could do on the view, you can now do on the <code>Workspace</code> model.</p><p>Requiring <code>WorkspaceView</code> from <code>atom</code> and accessing any methods on it will throw a deprecation warning. Many specs lean heavily on <code>WorkspaceView</code> to trigger commands and fetch <code>EditorView</code> objects.</p><p>Your specs might contain something like this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
<span class="token punctuation">{</span>WorkspaceView<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom&#39;</span>
describe <span class="token string">&#39;FindView&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  beforeEach <span class="token operator">-</span><span class="token operator">&gt;</span>
    atom<span class="token punctuation">.</span>workspaceView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkspaceView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Instead, we will use the <code>atom.views.getView()</code> method. This will return a plain <code>HTMLElement</code>, not a <code>WorkspaceView</code> or jQuery object.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
describe <span class="token string">&#39;FindView&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  workspaceElement <span class="token operator">=</span> <span class="token keyword">null</span>
  beforeEach <span class="token operator">-</span><span class="token operator">&gt;</span>
    workspaceElement <span class="token operator">=</span> atom<span class="token punctuation">.</span>views<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span>atom<span class="token punctuation">.</span>workspace<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="attaching-the-workspace-to-the-dom" tabindex="-1"><a class="header-anchor" href="#attaching-the-workspace-to-the-dom" aria-hidden="true">#</a> Attaching the workspace to the DOM</h5><p>The workspace needs to be attached to the DOM in some cases. For example, view hooks only work (<code>attached()</code> on <code>View</code>, <code>attachedCallback()</code> on custom elements) when there is a descendant attached to the DOM.</p><p>You might see this in your specs:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
atom<span class="token punctuation">.</span>workspaceView<span class="token punctuation">.</span><span class="token function">attachToDom</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Change it to:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
jasmine<span class="token punctuation">.</span><span class="token function">attachToDOM</span><span class="token punctuation">(</span>workspaceElement<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="removing-editorview-references" tabindex="-1"><a class="header-anchor" href="#removing-editorview-references" aria-hidden="true">#</a> Removing EditorView references</h5><p>Like <code>WorkspaceView</code>, <code>EditorView</code> has been deprecated. Everything you needed to do on the view you are now able to do on the <code>TextEditor</code> model.</p><p>In many cases, you will not even need to get the editor&#39;s view anymore. Any of those instances should be updated to use the <code>TextEditor</code> instance instead. You should really only need the editor&#39;s view when you plan on triggering a command on the view in a spec.</p><p>Your specs might contain something like this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
describe <span class="token string">&#39;Something&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  <span class="token punctuation">[</span>editorView<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  beforeEach <span class="token operator">-</span><span class="token operator">&gt;</span>
    editorView <span class="token operator">=</span> atom<span class="token punctuation">.</span>workspaceView<span class="token punctuation">.</span><span class="token function">getActiveView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We&#39;re going to use <code>atom.views.getView()</code> again to get the editor element. As in the case of the <code>workspaceElement</code>, <code>getView</code> will return a subclass of <code>HTMLElement</code> rather than an <code>EditorView</code> or jQuery object.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
describe <span class="token string">&#39;Something&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  <span class="token punctuation">[</span>editor<span class="token punctuation">,</span> editorElement<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  beforeEach <span class="token operator">-</span><span class="token operator">&gt;</span>
    editor <span class="token operator">=</span> atom<span class="token punctuation">.</span>workspace<span class="token punctuation">.</span><span class="token function">getActiveTextEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    editorElement <span class="token operator">=</span> atom<span class="token punctuation">.</span>views<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="dispatching-commands" tabindex="-1"><a class="header-anchor" href="#dispatching-commands" aria-hidden="true">#</a> Dispatching commands</h5><p>Since the <code>editorElement</code> objects are no longer jQuery objects, they no longer support <code>trigger()</code>. Additionally, Atom has a new command dispatcher, <code>atom.commands</code>, that we use rather than commandeering jQuery&#39;s <code>trigger</code> method.</p><p>From this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
workspaceView<span class="token punctuation">.</span>trigger <span class="token string">&#39;a-package:toggle&#39;</span>
editorView<span class="token punctuation">.</span>trigger <span class="token string">&#39;find-and-replace:show&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To this:</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
atom<span class="token punctuation">.</span>commands<span class="token punctuation">.</span>dispatch workspaceElement<span class="token punctuation">,</span> <span class="token string">&#39;a-package:toggle&#39;</span>
atom<span class="token punctuation">.</span>commands<span class="token punctuation">.</span>dispatch editorElement<span class="token punctuation">,</span> <span class="token string">&#39;find-and-replace:show&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventing-and-disposables" tabindex="-1"><a class="header-anchor" href="#eventing-and-disposables" aria-hidden="true">#</a> Eventing and Disposables</h4><p>A couple large things changed with respect to events:</p><ol><li>All model events are now exposed as event subscription methods that return <a href="https://atom.io/docs/api/latest/Disposable" target="_blank" rel="noopener noreferrer"><code>Disposable</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> objects</li><li>The <code>subscribe()</code> method is no longer available on <code>space-pen</code> <code>View</code> objects</li><li>An Emitter is now provided from <code>require &#39;atom&#39;</code></li></ol><h5 id="consuming-events" tabindex="-1"><a class="header-anchor" href="#consuming-events" aria-hidden="true">#</a> Consuming Events</h5><p>All events from the Atom API are now methods that return a <a href="https://atom.io/docs/api/latest/Disposable" target="_blank" rel="noopener noreferrer"><code>Disposable</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> object, on which you can call <code>dispose()</code> to unsubscribe.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
editor<span class="token punctuation">.</span><span class="token keyword">on</span> <span class="token string">&#39;changed&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
disposable <span class="token operator">=</span> editor<span class="token punctuation">.</span>onDidChange <span class="token operator">-</span><span class="token operator">&gt;</span>

<span class="token comment"># You can unsubscribe at some point in the future via `dispose()`</span>
disposable<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Deprecation warnings will guide you toward the correct methods.</p><h6 id="using-a-compositedisposable" tabindex="-1"><a class="header-anchor" href="#using-a-compositedisposable" aria-hidden="true">#</a> Using a <code>CompositeDisposable</code></h6><p>You can group multiple disposables into a single disposable with a <code>CompositeDisposable</code>.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token punctuation">{</span>CompositeDisposable<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">Something</span>
  <span class="token property">constructor</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    editor <span class="token operator">=</span> atom<span class="token punctuation">.</span>workspace<span class="token punctuation">.</span><span class="token function">getActiveTextEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token class-member variable">@disposables</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompositeDisposable</span>
    <span class="token class-member variable">@disposables</span><span class="token punctuation">.</span>add editor<span class="token punctuation">.</span>onDidChange <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token class-member variable">@disposables</span><span class="token punctuation">.</span>add editor<span class="token punctuation">.</span>onDidChangePath <span class="token operator">-</span><span class="token operator">&gt;</span>

  <span class="token property">destroy</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token class-member variable">@disposables</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="removing-view-subscribe-and-subscriber-subscribe-calls" tabindex="-1"><a class="header-anchor" href="#removing-view-subscribe-and-subscriber-subscribe-calls" aria-hidden="true">#</a> Removing <code>View::subscribe</code> and <code>Subscriber::subscribe</code> calls</h5><p>There were a couple permutations of <code>subscribe()</code>. In these examples, a <code>CompositeDisposable</code> is used as it will commonly be useful where conversion is necessary.</p><h6 id="subscribe-unsubscribable" tabindex="-1"><a class="header-anchor" href="#subscribe-unsubscribable" aria-hidden="true">#</a> <code>subscribe(unsubscribable)</code></h6><p>This one is very straight forward.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
<span class="token class-member variable">@subscribe</span> editor<span class="token punctuation">.</span><span class="token keyword">on</span> <span class="token string">&#39;changed&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
disposables <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompositeDisposable</span>
disposables<span class="token punctuation">.</span>add editor<span class="token punctuation">.</span>onDidChange <span class="token operator">-</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="subscribe-modelobject-event-method" tabindex="-1"><a class="header-anchor" href="#subscribe-modelobject-event-method" aria-hidden="true">#</a> <code>subscribe(modelObject, event, method)</code></h6><p>When the modelObject is an Atom model object, the change is very simple. Just use the correct event method, and add it to your CompositeDisposable.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
<span class="token class-member variable">@subscribe</span> editor<span class="token punctuation">,</span> <span class="token string">&#39;changed&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
disposables <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompositeDisposable</span>
disposables<span class="token punctuation">.</span>add editor<span class="token punctuation">.</span>onDidChange <span class="token operator">-</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="subscribe-jqueryobject-selector-optional-event-method" tabindex="-1"><a class="header-anchor" href="#subscribe-jqueryobject-selector-optional-event-method" aria-hidden="true">#</a> <code>subscribe(jQueryObject, selector(optional), event, method)</code></h6><p>Things are a little more complicated when subscribing to a DOM or jQuery element. Atom no longer provides helpers for subscribing to elements. You can use jQuery or the native DOM APIs, whichever you prefer.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
<span class="token class-member variable">@subscribe</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">window</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
<span class="token punctuation">{</span>Disposable<span class="token punctuation">,</span> CompositeDisposable<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom&#39;</span>
disposables <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompositeDisposable</span>

<span class="token comment"># New with jQuery</span>
focusCallback <span class="token operator">=</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">window</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">on</span> <span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> focusCallback
disposables<span class="token punctuation">.</span>add <span class="token keyword">new</span> <span class="token class-name">Disposable</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">window</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">off</span> <span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> focusCallback

<span class="token comment"># New with native APIs</span>
focusCallback <span class="token operator">=</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
<span class="token keyword">window</span><span class="token punctuation">.</span>addEventListener <span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> focusCallback
disposables<span class="token punctuation">.</span>add <span class="token keyword">new</span> <span class="token class-name">Disposable</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  <span class="token keyword">window</span><span class="token punctuation">.</span>removeEventListener <span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> focusCallback
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="providing-events-using-the-emitter" tabindex="-1"><a class="header-anchor" href="#providing-events-using-the-emitter" aria-hidden="true">#</a> Providing Events: Using the <code>Emitter</code></h5><p>You no longer need to require <code>emissary</code> to get an emitter. We now provide an <code>Emitter</code> class from <code>require &#39;atom&#39;</code>. We have a specific pattern for use of the <code>Emitter</code>. Rather than mixing it in, we instantiate a member variable, and create explicit subscription methods. For more information see the <a href="https://atom.io/docs/api/latest/Emitter" target="_blank" rel="noopener noreferrer"><code>Emitter</code> docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
<span class="token punctuation">{</span>Emitter<span class="token punctuation">}</span> <span class="token operator">=</span> require <span class="token string">&#39;atom&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">Something</span>
  <span class="token property">constructor</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token class-member variable">@emitter</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Emitter</span>

  <span class="token property">destroy</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token class-member variable">@emitter</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token property">onDidChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token class-member variable">@emitter</span><span class="token punctuation">.</span><span class="token keyword">on</span> <span class="token string">&#39;did-change&#39;</span><span class="token punctuation">,</span> callback

  <span class="token property">methodThatFiresAChange</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token class-member variable">@emitter</span><span class="token punctuation">.</span>emit <span class="token string">&#39;did-change&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token property">data</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>

<span class="token comment"># Using the evented class</span>
something <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Something</span>
something<span class="token punctuation">.</span><span class="token function">onDidChange</span> <span class="token punctuation">(</span>eventObject<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  console<span class="token punctuation">.</span>log eventObject<span class="token punctuation">.</span>data <span class="token comment"># =&gt; 2</span>
something<span class="token punctuation">.</span><span class="token function">methodThatFiresAChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="subscribing-to-commands" tabindex="-1"><a class="header-anchor" href="#subscribing-to-commands" aria-hidden="true">#</a> Subscribing To Commands</h4><p><code>$.fn.command</code> and <code>View::subscribeToCommand</code> are no longer available. Now we use <code>atom.commands.add</code>, and collect the results in a <code>CompositeDisposable</code>. See <a href="https://atom.io/docs/api/latest/CommandRegistry#instance-add" target="_blank" rel="noopener noreferrer">the docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more info.</p><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># Old!</span>
atom<span class="token punctuation">.</span>workspaceView<span class="token punctuation">.</span>command <span class="token string">&#39;core:close core:cancel&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>

<span class="token comment"># When inside a View class, you might see this</span>
<span class="token class-member variable">@subscribeToCommand</span> <span class="token string">&#39;core:close core:cancel&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-coffee ext-coffee line-numbers-mode"><pre class="language-coffee"><code><span class="token comment"># New!</span>
<span class="token class-member variable">@disposables</span><span class="token punctuation">.</span>add atom<span class="token punctuation">.</span>commands<span class="token punctuation">.</span>add <span class="token string">&#39;atom-workspace&#39;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;core:close&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  <span class="token string-property property">&#39;core:cancel&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>

<span class="token comment"># You can register commands directly on individual DOM elements in addition to</span>
<span class="token comment"># using selectors. When in a View class, you should have a `@element` object</span>
<span class="token comment"># available. `@element` is a plain HTMLElement object</span>
<span class="token class-member variable">@disposables</span><span class="token punctuation">.</span>add atom<span class="token punctuation">.</span>commands<span class="token punctuation">.</span>add <span class="token class-member variable">@element</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;core:close&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
  <span class="token string-property property">&#39;core:cancel&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="upgrading-your-stylesheet-s-selectors" tabindex="-1"><a class="header-anchor" href="#upgrading-your-stylesheet-s-selectors" aria-hidden="true">#</a> Upgrading your stylesheet&#39;s selectors</h4><p>Many selectors have changed, and we have introduced the <a href="https://blog.atom.io/2014/11/18/avoiding-style-pollution-with-the-shadow-dom.html" target="_blank" rel="noopener noreferrer">Shadow DOM<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to the editor. See the <a href="/upgrading-to-1-0-apis/sections/upgrading-your-ui-theme-or-package-selectors/" class="">Upgrading Your UI Theme And Package Selectors guide</a> for more information in upgrading your package stylesheets.</p></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: 16845458+kaosine@users.noreply.github.com">Joshua MIller</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.066b0f7d.js" defer></script>
  </body>
</html>
